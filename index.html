<!DOCTYPE html>
<html>
  <head>
    <title>jQuery based Password Validator</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" />
    <script type="text/javascript">
      (function( $ ){
        var methods = {
          version : function(){ return "0.1"},
          init : function( options ) {
            var settings = $.extend( { 
              events : ['keyup', 'blur'],
              minLength : 0,
              maxLength: 256,
              timerDelay : 100,
              passwordField : "[data-field='pw']",
              passwordFieldValidation :  "[data-field='pw-valid-msg']",
              confirmField : "[data-field='pw-confirm']",
              confirmFieldValidation :  "[data-field='pw-confirm-msg']"
            }, options );
          },
          match : function(){
            var pw1 = $(options.pwField).val();
            var pw2 = $(options.pwConfirm).val();
            return( pw1 == pw2 )
          },
          maxLength : function(){ // true = too long
            var pw1 = $(options.pwField).val().length();
            pw1 < options.maxLength ? true : false;
          },
          minLength : function() {// true = too short
            var pw1 = $(options.pwField).val().length();
            pw1 < options.minLength ? true : false;
          }
        };
        $.fn.pwvalidate = function( method ) {
          if ( methods[method] ) {
            return methods[ method ].apply( this, Array.prototype.slice.call( arguments, 1 ));
          } else if ( typeof method === 'object' || ! method ) {
            return methods.init.apply( this, arguments );
          } else {
            $.error( 'Method ' +  method + ' does not exist on jQuery.pwvalidate' );
          }
        }
      })(jQuery);
      $( function() { $('.container').pwvalidate(); } )();
    </script>
  </head>
  <body>
    <div class="container">
      <form action="#">
        <p>
          <label>Password:</label>
          <input type="PASSWORD" data-field="pw" />
          <span data-field="pw-valid-msg">{options.msg}</span>
        </p>
        <p>
          <label>Password Confirm:</label>
          <input type="PASSWORD" data-field="pw-confirm" />
          <span data-field="pw-confirm-msg">{options.confirm_msg}</span>
        </p>
        <p><button type="button">Does nothing</button></p>
      </form>
    </div>
  </body>
</html>

